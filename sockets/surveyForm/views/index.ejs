<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>Survey Form</title>
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
   <script type="text/javascript" src="/socket.io/socket.io.js"></script>
  
   <!-- <script type="text/javascript">
      $(document).ready(() => {

         var socket = io(); //1 
         
         // socket.on('greeting',(data) => { //4
         //    console.log(data.msg); //5
         //    socket.emit('thankyou', { msg: "Thank you for connecting me! -client" }); //6
         // })

         $("#btn").click(function() {
            console.log("clicked button");
            socket.emit("posting_form", { 
               name: $("#name").val(),
               location: $("#location").val(),
               language: $("#language").val(),
               comment: $("#comment").val()
            });
         });
         socket.on("updated_message", (data) => {
            $(".frm").text(data.info)
         });
         // socket.on("random_number", (data) => {
         //    $(".rnd").text(data.msg)
         // });
         
      })
   
   
   </script> -->
   <script type="text/javascript">
      $(document).ready(function(){
         var socket = io();
         $("#btn").click(function(){
            console.log("clicked button");
            socket.emit("posting_form", {
               name:$("#name").val(),
               location:$("#location").val(),
               language:$("#language").val(),
               comment:$("#comment").val()
            });
         });
         socket.on("updated_message", function(data){
            $(".frm").text(data.info)
            console.log(data.info)
         });
         socket.on("random_number", function(data){
            $(".rnd").text(data.message);
            console.log(data.message)
         })
      });
  </script>

</head>
<body>
   <div id="header">
      <p class="frm"></p> 
      <p class="rnd"></p> 
   </div>
   <div class="container" style="border: 1px solid black">
      <form style="padding: 20px;">
         <div class="form-group row">
           <label for="" class="col-sm-5 col-form-label">Your Name:</label>
           <div class="col-sm-5">
             <input type="text" class="form-control" id="name">
           </div>
         </div>
         <div class="form-group row">
            <label for="" class="col-sm-5 col-form-label">Dojo Location:</label>
            <div class="col-sm-5">
               <select class="form-control" id="location">
                  <option>Buena Park</option>
                  <option>Los Angeles</option>
                  <option>Santa Monica</option>
                  <option>Fullerton</option>
                  <option>Burbank</option>
               </select>
            </div>
         </div>
         <div class="form-group row">
            <label for="" class="col-sm-5 col-form-label">Favorite Language:</label>
            <div class="col-sm-5">
               <select class="form-control" id="language">
                  <option>Java</option>
                  <option>Mean</option>
                  <option>Python</option>
                  <option>Mean</option>
                  <option>C#</option>
               </select>
            </div>
         </div>
         <div class="form-group row">
            <label for="" class="col-sm-10 col-form-label">Comment (Optional):</label>
            <div class="col-sm-10">
               <textarea class="form-control" rows="3" id="comment"></textarea>
            </div>
         </div>
         <button id="btn" type="submit" class="btn btn-danger">Submit</button>   
      </form>
   </div>

   
   
</body>
</html>